<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- ... (metadatos y estilos iguales) ... -->
  </head>
  <body>
    <div id="loading">Iniciando AR, por favor espera...</div>
    
    <a-scene
      mindar-image="imageTargetSrc: ./target.mind; filterMinCF: 0.0001; filterBeta: 0.01; warmupTolerance: 5; missTolerance: 5;"
      color-space="sRGB"
      embedded
      renderer="colorManagement: true; precision: high; antialias: true; alpha: true;"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <a-asset-item id="bearModel" src="oso.glb"></a-asset-item>
      </a-assets>

      <!-- Cámara con cursor interactivo -->
      <a-camera position="0 0 0" cursor="rayOrigin: mouse" raycaster="objects: .clickable">
      </a-camera>
      
      <!-- Target + contenido (igual que antes) ... -->
    </a-scene>

    <!-- Enlace oculto (igual que antes) ... -->
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const scene = document.querySelector('a-scene');
        const loading = document.getElementById('loading');

        // Configurar evento después de que la escena esté lista
        scene.addEventListener('loaded', function() {
          const visitButton = document.querySelector('#visitButton');
          
          // 1. Usar evento 'click' de A-Frame
          visitButton.addEventListener('click', function() {
            document.getElementById("hiddenLink").click();
          });

          // 2. Opción mobile: evento touchstart
          visitButton.addEventListener('touchstart', function() {
            document.getElementById("hiddenLink").click();
          });
        });

        // Resto del código de inicialización (igual que antes) ...
      });

      // Componente adicional para mejor manejo táctil
      AFRAME.registerComponent('clickhandler', {
        init: function() {
          this.el.addEventListener('click', () => {
            document.getElementById("hiddenLink").click();
          });
          this.el.addEventListener('touchstart', () => {
            document.getElementById("hiddenLink").click();
          });
        }
      });
    </script>
  </body>
</html>

